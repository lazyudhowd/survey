<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>LAZISMU PROYEK PEMBUATAN DAFTAR PERTANYAAN</title>
</head>
<body>
	<h1 class="fs-4 text-center border-bottom">PEMBUATAN DAFTAR PERTANYAAN</h1>
	<h1 class="fs-4 text-center border-bottom">CONTOH 1</h1>
	<form id="form1" class="bg-light m-2 p-2 rounded-1 pb-3">
		<p class="text-center">Daftar Pertanyaan</p>
		<div id="targetSurveyArea"></div>
	</form>
	<div id="targetArea1"></div>

	<script>
		// javascript here ...
		let dataSurvey = {
			versi : "1.0",
			subSurvey : [
				{
					judulSub:"Sub Judul 1",
					pertanyaanSurvey : [
						{
							label : "Pertanyaan 1, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 1 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 1 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 1 Sub 1"},
								{nilai:"4", label:"Opsi D Pertanyaan 1 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 1 Sub 1"}
							]
						},
						{
							label : "Pertanyaan 2, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 2 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 2 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 2 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 2 Sub 1"}
							]
						},
						{
							label : "Pertanyaan 3, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 3 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 3 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 3 Sub 1"},
								{nilai:"4", label:"Opsi D Pertanyaan 3 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 3 Sub 1"}
							]
						}
					]
				},
				{
					judulSub:"Sub Judul 1",
					pertanyaanSurvey : [
						{
							label : "Pertanyaan 1, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 1 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 1 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 1 Sub 1"},
								{nilai:"4", label:"Opsi D Pertanyaan 1 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 1 Sub 1"}
							]
						},
						{
							label : "Pertanyaan 2, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 2 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 2 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 2 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 2 Sub 1"}
							]
						},
						{
							label : "Pertanyaan 3, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 3 Sub 1"},
								{nilai:"2", label:"Opsi B Pertanyaan 3 Sub 1"},
								{nilai:"3", label:"Opsi C Pertanyaan 3 Sub 1"},
								{nilai:"4", label:"Opsi D Pertanyaan 3 Sub 1"},
								{nilai:"0", label:"Opsi Default Pertanyaan 3 Sub 1"}
							]
						}
					]
				},
				{
					judulSub:"Sub Judul 2",
					pertanyaanSurvey : [
						{
							label : "Pertanyaan 1, sub 2",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 1 Sub 2"},
								{nilai:"2", label:"Opsi B Pertanyaan 1 Sub 2"},
								{nilai:"3", label:"Opsi C Pertanyaan 1 Sub 2"},
								{nilai:"4", label:"Opsi D Pertanyaan 1 Sub 2"},
								{nilai:"0", label:"Opsi Default Pertanyaan 1 Sub 2"}
							]
						},
						{
							label : "Pertanyaan 2, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 2 Sub 2"},
								{nilai:"2", label:"Opsi B Pertanyaan 2 Sub 2"},
								{nilai:"3", label:"Opsi C Pertanyaan 2 Sub 2"},
								{nilai:"0", label:"Opsi Default Pertanyaan 2 Sub 2"}
							]
						},
						{
							label : "Pertanyaan 3, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 3 Sub 2"},
								{nilai:"2", label:"Opsi B Pertanyaan 3 Sub 2"},
								{nilai:"3", label:"Opsi C Pertanyaan 3 Sub 2"},
								{nilai:"4", label:"Opsi D Pertanyaan 3 Sub 2"},
								{nilai:"0", label:"Opsi Default Pertanyaan 3 Sub 2"}
							]
						}
					]
				},
				{
					judulSub:"Sub Judul 3",
					pertanyaanSurvey : [
						{
							label : "Pertanyaan 1, sub 2",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 1 Sub 3"},
								{nilai:"2", label:"Opsi B Pertanyaan 1 Sub 3"},
								{nilai:"3", label:"Opsi C Pertanyaan 1 Sub 3"},
								{nilai:"4", label:"Opsi D Pertanyaan 1 Sub 3"},
								{nilai:"0", label:"Opsi Default Pertanyaan 1 Sub 3"}
							]
						},
						{
							label : "Pertanyaan 2, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 2 Sub 3"},
								{nilai:"2", label:"Opsi B Pertanyaan 2 Sub 3"},
								{nilai:"3", label:"Opsi C Pertanyaan 2 Sub 3"},
								{nilai:"0", label:"Opsi Default Pertanyaan 2 Sub 3"}
							]
						},
						{
							label : "Pertanyaan 3, sub 1",
							opsiJawaban : [
								{nilai:"1", label:"Opsi A Pertanyaan 3 Sub 3"},
								{nilai:"2", label:"Opsi B Pertanyaan 3 Sub 3"},
								{nilai:"3", label:"Opsi C Pertanyaan 3 Sub 3"},
								{nilai:"4", label:"Opsi D Pertanyaan 3 Sub 3"},
								{nilai:"0", label:"Opsi Default Pertanyaan 3 Sub 3"}
							]
						}
					]
				}
			]
		}

		let target = document.getElementById("targetSurveyArea");

		for(let ii=0; ii<dataSurvey.subSurvey.length; ii++){

			let subBaru = document.createElement("div");

			let headerSub = document.createElement("h3");
			headerSub.innerText = dataSurvey.subSurvey[ii].judulSub;

			let areaPertanyaanSub = document.createElement("div");

			for(let ij=0; ij<dataSurvey.subSurvey[ii].pertanyaanSurvey.length; ij++){

				let subPertanyaan= document.createElement("div");
				subPertanyaan.innerText = dataSurvey.subSurvey[ii].pertanyaanSurvey[ij].label;

				let areaJawaban = document.createElement("div");

				for(let ik=0; ik<dataSurvey.subSurvey[ii].pertanyaanSurvey[ij].opsiJawaban.length; ik++){
					
					let subJawaban = document.createElement("div");

					let radioButton = document.createElement("input");
					radioButton.setAttribute("type","radio");
					radioButton.setAttribute("name","opsiforsub"+ii+"_pertanyaan"+ij);
					radioButton.id = "sub"+ii+"_pertanyaan"+ij+"_opsi"+ik;

					radioButton.value = dataSurvey.subSurvey[ii].pertanyaanSurvey[ij].opsiJawaban[ik].nilai;

					let labelRadio = document.createElement("label");
					labelRadio.setAttribute("for",radioButton.id)
					// labelRadio.for = radioButton.id;
					labelRadio.innerText = dataSurvey.subSurvey[ii].pertanyaanSurvey[ij].opsiJawaban[ik].label;

					subJawaban.appendChild(radioButton);
					subJawaban.appendChild(labelRadio);

					areaJawaban.appendChild(subJawaban);
				}

				areaPertanyaanSub.appendChild(subPertanyaan);
				areaPertanyaanSub.appendChild(areaJawaban);
			}

			subBaru.appendChild(headerSub);
			subBaru.appendChild(areaPertanyaanSub);

			target.appendChild(subBaru);
		}
	</script>
</body>
</html>